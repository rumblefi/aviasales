{"version":3,"sources":["assets/logo/logo.svg","assets/icons/check-mark.svg","assets/ticketLogo.svg","assets/icons/transfer-icon.svg","components/CurrencyFilter/CurrencyFilter.js","components/CurrencyFilters/CurrencyFilters.js","components/FiltersBlock/FiltersBlock.js","components/TransferCheckbox/TransferCheckbox.js","components/TransferLabel/TransferLabel.js","components/TransferFilters/TransferFilters.js","components/Filters/Filters.js","components/TicketCol/TicketCol.js","components/TicketLogo/TicketLogo.js","helpers.js","components/TicketButton/TicketButton.js","components/TicketInfoBlock/TicketInfoBlock.js","components/TicketTransfer/TicketTransfer.js","components/Ticket/Ticket.js","components/Tickets/Tickets.js","components/Loader/Loader.js","components/Error/Error.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","CurrencyFilter","_ref","text","active","onClick","clazz","classNames","currency-filter","currency-filter--is-active","react_default","a","createElement","className","filtersData","name","CurrencyFilters","currencyFilter","onCurrencyFilter","filters","map","_ref2","components_CurrencyFilter_CurrencyFilter","key","FiltersBlock","title","children","TransferCheckbox","checked","onFilterAllChange","onFilterChange","onTransferFilterChange","type","onChange","e","src","checkMark","alt","TransferLabel","labelText","components_TransferCheckbox_TransferCheckbox","TransferFilters","state","transferFilters","event","_event$target","target","_this","setState","updateAllFilters","_event$target2","allFilterIndex","findIndex","filter","targetIndex","uncheckAllFilter","concat","Object","toConsumableArray","slice","updateOneFilter","arr","objectSpread","index","item","_this2","this","_ref3","components_TransferLabel_TransferLabel","props","React","Component","Filters","components_FiltersBlock_FiltersBlock","components_CurrencyFilters_CurrencyFilters","TransferFilters_TransferFilters_TransferFilters","TicketCol","modificator","TicketLogo","imgSrc","formatPrice","price","toString","length","firstPart","lastPart","TicketButton","currencyFilterVal","price_rub","price_usd","price_eur","_this$props","checkCurrency","TicketInfoBlock","_ref$data","data","time","city","city_name","date","str","dateStr","split","join","toMMDDYYY","Date","dd","getDate","month","getMonth","year","getFullYear","dayName","number","getDayName","getDay","formatDate","TicketTransfer","transfersCount","transferIcon","Ticket","_this$props$ticketDat","ticketData","origin","origin_name","destination","destination_name","departure_date","departure_time","arrival_date","arrival_time","stops","prices","components_TicketCol_TicketCol","components_TicketLogo_TicketLogo","ticketLogo","TicketButton_TicketButton_TicketButton","components_TicketInfoBlock_TicketInfoBlock","components_TicketTransfer_TicketTransfer","Tickets","ticketsData","tickets","ticket","Ticket_Ticket_Ticket","id","Loader","Error","message","App","initialTicketsData","filtersTicketData","isLoading","error","pushFiltersTicketData","removeFilteredTickets","propVal","filterName","filterInitialTicketData","filterFiltersTicketData","setTimeout","fetch","then","response","ok","json","catch","_this$state","loader","components_Loader_Loader","components_Error_Error","components_Filters_Filters","components_Tickets_Tickets","ReactDOM","render","App_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.6a2fe01e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.331ee049.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-mark.d1a9076b.svg\";","module.exports = __webpack_public_path__ + \"static/media/ticketLogo.74c86e32.svg\";","module.exports = __webpack_public_path__ + \"static/media/transfer-icon.a6431ce8.svg\";","import React from 'react'\r\nimport './CurrencyFilter.scss'\r\nimport classNames from 'classnames'\r\n\r\nconst CurrencyFilter = ({text,active,onClick}) => {\r\n\r\n\tconst clazz = classNames({\r\n\t\t'currency-filter': true,\r\n\t\t'currency-filter--is-active': active\r\n\t})\r\n\r\n\treturn(\r\n\t\t<button className={clazz} onClick={onClick} >{text}</button>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default CurrencyFilter","import React from 'react'\r\nimport './CurrencyFilters.scss'\r\nimport CurrencyFilter from '../CurrencyFilter/CurrencyFilter';\r\n\r\nconst filtersData = [\r\n    {\r\n        name: 'rub',\r\n        text: 'rub'\r\n    }, {\r\n        name: 'usd',\r\n        text: 'usd'\r\n    }, {\r\n        name: 'eur',\r\n        text: 'eur'\r\n    }\r\n]\r\n\r\nconst CurrencyFilters = ({currencyFilter,onCurrencyFilter}) => {\r\n\r\n\tconst filters = filtersData.map(({name,text}) => \r\n\t\t<CurrencyFilter \r\n\t\t\tkey={name} \r\n\t\t\ttext={text}\r\n\t\t\tactive={name === currencyFilter}\r\n\t\t\tonClick={ () => onCurrencyFilter(name) }\r\n\t\t/>\r\n\t)\r\n\r\n    return (\r\n        <div className=\"currency-filters\">\r\n            {filters}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CurrencyFilters","import React from 'react'\r\nimport './FiltersBlock.scss'\r\n\r\nconst FiltersBlock = ({title,children}) => {\r\n\r\n\treturn(\r\n\t\t<div className=\"filters-block\" >\r\n\t\t\t<div className=\"filters-block__title\">{title}</div>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default FiltersBlock","import React from 'react'\r\nimport './TransferCheckbox.scss'\r\nimport checkMark from '../../assets/icons/check-mark.svg'\r\n\r\nconst TransferCheckbox = ({name,checked,onFilterAllChange,onFilterChange,onTransferFilterChange}) => {\r\n\r\n\treturn(\r\n\t\t<div className=\"transfer-checkbox\" >\r\n\t\t\t<input type=\"checkbox\" className=\"transfer-checkbox__input\" name={name} checked={checked} onChange={ (e) => {\r\n\t\t\t\tonFilterAllChange(e)\r\n\t\t\t\tonFilterChange(e)\r\n\t\t\t\tonTransferFilterChange(e)\r\n\t\t\t}} />\r\n\t\t\t<div className=\"transfer-checkbox__custom\">\r\n\t\t\t\t<img src={checkMark} alt=\"\"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default TransferCheckbox","import React from 'react'\r\nimport './TransferLabel.scss'\r\nimport TransferCheckbox from '../TransferCheckbox/TransferCheckbox'\r\n\r\nconst TransferLabel = ({name,labelText,checked,onFilterAllChange,onFilterChange,onTransferFilterChange}) => {\r\n\r\n\treturn(\r\n\t\t<label className=\"transfer-label\" >\r\n\t\t\t<TransferCheckbox name={name} checked={checked} onFilterAllChange={onFilterAllChange} onFilterChange={onFilterChange} onTransferFilterChange={onTransferFilterChange} />\r\n\t\t\t<span className=\"transfer-label__title\">{labelText}</span>\r\n\t\t</label>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default TransferLabel","import React from 'react'\r\nimport './TransferFilters.scss'\r\nimport TransferLabel from '../TransferLabel/TransferLabel'\r\n\r\nexport default class TransferFilters extends React.Component {\r\n\r\n    state = {\r\n        transferFilters: [\r\n            {\r\n                name: 'transfer_all',\r\n                labelText: 'Все',\r\n                checked: true\r\n            }, {\r\n                name: 'transfer_without',\r\n                labelText: 'Без пересадок',\r\n                checked: true\r\n            }, {\r\n                name: 'transfer_1',\r\n                labelText: '1 пересадка',\r\n                checked: true\r\n            }, {\r\n                name: 'transfer_2',\r\n                labelText: '2 пересадки',\r\n                checked: true\r\n            }, {\r\n                name: 'transfer_3',\r\n                labelText: '3 пересадки',\r\n                checked: true\r\n            }\r\n        ]\r\n    }\r\n\r\n    updateAllFilters(arr,checked) {\r\n        return arr.map( filter => ({\r\n            ...filter,\r\n            checked \r\n        }))\r\n    }\r\n\r\n    onFilterAllChange = (event) => {\r\n        const {target: {name,checked}} = event\r\n        if(name === 'transfer_all') {\r\n            this.setState( ({transferFilters}) => ({\r\n                transferFilters: this.updateAllFilters(transferFilters,checked)\r\n            }))\r\n        }\r\n    }\r\n\r\n    updateOneFilter(index,arr,checked) {\r\n        const item = arr[index]\r\n        return {\r\n            ...item,\r\n            checked\r\n        }\r\n    }\r\n\r\n    uncheckAllFilter(index,arr) {\r\n        const item = arr[index]\r\n        return {\r\n            ...item,\r\n            checked: false\r\n        }\r\n    }\r\n    \r\n    onFilterChange = (event) => {\r\n        const {target: {name,checked}} = event\r\n        if(name !== 'transfer_all') {\r\n            this.setState( ({transferFilters}) =>  {\r\n                const allFilterIndex = transferFilters.findIndex( filter => filter.name === 'transfer_all' )\r\n                const targetIndex = transferFilters.findIndex( filter => filter.name === name )\r\n                const newArr = [\r\n                    this.uncheckAllFilter(allFilterIndex,transferFilters),\r\n                    ...transferFilters.slice(1,targetIndex),\r\n                    this.updateOneFilter(targetIndex,transferFilters,checked),\r\n                    ...transferFilters.slice(targetIndex + 1),\r\n                ]\r\n                return{\r\n                    transferFilters: newArr\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {transferFilters} = this.state\r\n\r\n        const filters = transferFilters.map(({name, labelText, checked}) => <TransferLabel\r\n            key={name}\r\n            name={name}\r\n            labelText={labelText}\r\n            checked={checked}\r\n            onFilterAllChange={this.onFilterAllChange}\r\n            onFilterChange={this.onFilterChange}\r\n            onTransferFilterChange={this.props.onTransferFilterChange}/>)\r\n\r\n        return (\r\n            <div className=\"transfer-filters\">\r\n                {filters}\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}","import React from 'react'\r\nimport './Filters.scss'\r\nimport CurrencyFilters from '../CurrencyFilters/CurrencyFilters';\r\nimport FiltersBlock from '../FiltersBlock/FiltersBlock';\r\nimport TransferFilters from '../TransferFilters/TransferFilters';\r\n\r\nconst Filters = ({currencyFilter,onCurrencyFilter,onTransferFilterChange}) => {\r\n\r\n\treturn(\r\n\t\t<div className=\"filters\" >\r\n\t\t\t<div className=\"filters__inner\">\r\n\t\t\t\t<FiltersBlock title=\"Валюта\" >\r\n\t\t\t\t\t<CurrencyFilters currencyFilter={currencyFilter} onCurrencyFilter={onCurrencyFilter} />\r\n\t\t\t\t</FiltersBlock>\r\n\t\t\t\t<FiltersBlock title=\"Количество пересадок\" >\r\n\t\t\t\t\t<TransferFilters onTransferFilterChange={onTransferFilterChange} />\r\n\t\t\t\t</FiltersBlock>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default Filters","import React from 'react'\r\nimport './TicketCol.scss'\r\nimport classNames from 'classnames'\r\n\r\nconst TicketCol = ({modificator, children}) => {\r\n\r\n\tconst clazz = classNames('ticket-col', modificator)\r\n\r\n\treturn(\r\n\t\t<div className={clazz} >\r\n\t\t\t{children}\r\n\t\t</div>\t\r\n\t)\r\n\t\r\n}\r\n\r\nexport default TicketCol","import React from 'react'\r\nimport './TicketLogo.scss'\r\n\r\nconst TicketLogo = ({imgSrc}) => {\r\n\r\n\treturn(\r\n\t\t<div className=\"ticket-logo\">\r\n\t\t\t<img src={imgSrc} alt=\"\"/>\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default TicketLogo","const formatPrice = (price) => {\r\n\tprice = price.toString()\r\n\tif (price.length < 4) return price\r\n\tconst firstPart = price.slice(0, -3)\r\n\tconst lastPart = price.slice(-3)\r\n\treturn `${firstPart} ${lastPart}`\r\n}\r\n\r\nconst toMMDDYYY = (dateStr) => {\r\n    dateStr = dateStr.split('.')\r\n    return [dateStr[1],dateStr[0],dateStr[2]].join('.')\r\n}\r\n\r\nconst getMonthName = (number) => {\r\n    const months = ['янв', 'фев', 'мар', 'апр', 'мая', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя','дек']\r\n    return months[number]\r\n}\r\n\r\nconst getDayName = (number) => {\r\n    const dayNames = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб']\r\n    return dayNames[number]\r\n}\r\n\r\nconst formatDate = (str) => {\r\n    const dateStr = toMMDDYYY(str)\r\n    const date = new Date(dateStr)\r\n    const dd = date.getDate()\r\n    const month = getMonthName( date.getMonth() )\r\n    const year = date.getFullYear()\r\n    const dayName = getDayName( date.getDay() )\r\n    return `${dd} ${month} ${year}, ${dayName}`\r\n}\r\n\r\nexport {\r\n\tformatPrice,\r\n\tformatDate\r\n}","import React from 'react'\r\nimport './TicketButton.scss'\r\nimport {formatPrice} from '../../helpers.js'\r\n\r\nexport default class TicketButton extends React.Component{\r\n\r\n\tcheckCurrency(price,currencyFilterVal) {\r\n        const {price_rub, price_usd, price_eur} = price\r\n        \r\n        switch (currencyFilterVal) {\r\n            case 'rub':\r\n                return `${formatPrice(price_rub)} ₽`\r\n            case 'usd':\r\n                return `${formatPrice(price_usd)} $`\r\n            case 'eur':\r\n                return `${formatPrice(price_eur)} €`\r\n            default:\r\n                return `${formatPrice(price_rub)} ₽`\r\n        }\r\n\r\n    }\r\n\r\n\trender() {\r\n\r\n\t\tconst {price,currencyFilterVal} = this.props\r\n\r\n\t\treturn(\r\n\t\t\t<button type=\"button\" className=\"ticket-button\">\r\n\t\t\t\tКупить\r\n\t\t\t\t<br />\r\n\t\t\t\tза {this.checkCurrency(price,currencyFilterVal)} \r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react'\r\nimport './TicketInfoBlock.scss'\r\nimport classNames from 'classnames'\r\nimport {formatDate} from '../../helpers'\r\n\r\nconst TicketInfoBlock = ({ data: {time,city,city_name,date}, modificator }) => {\r\n\r\n\tconst clazz = classNames('ticket-info-block', modificator)\r\n\r\n\treturn(\r\n\t\t<div className={clazz}>\r\n\t\t\t<div className=\"ticket-info-block__time\">{time}</div>\r\n\t\t\t<div className=\"ticket-info-block__city\">{city}, {city_name}</div>\r\n\t\t\t<div className=\"ticket-info-block__date\">{formatDate(date)}</div>\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default TicketInfoBlock","import React from 'react'\r\nimport './TicketTransfer.scss'\r\nimport transferIcon from '../../assets/icons/transfer-icon.svg'\r\n\r\nconst TicketTransfer = ({transfersCount}) => {\r\n\r\n\treturn(\r\n\t\t<div className=\"ticket-transfer\">\r\n\t\t\t<div className=\"ticket-transfer__title\">{transfersCount} пересадка</div>\r\n\t\t\t<img src={transferIcon} alt=\"\" className=\"ticket-transfer__icon\"/>\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default TicketTransfer","import React from 'react'\r\nimport './Ticket.scss'\r\nimport ticketLogo from '../../assets/ticketLogo.svg'\r\nimport TicketCol from '../TicketCol/TicketCol'\r\nimport TicketLogo from '../TicketLogo/TicketLogo'\r\nimport TicketButton from '../TicketButton/TicketButton'\r\nimport TicketInfoBlock from '../TicketInfoBlock/TicketInfoBlock'\r\nimport TicketTransfer from '../TicketTransfer/TicketTransfer'\r\n\r\n\r\nexport default class Ticket extends React.Component {\r\n\r\n    render() {\r\n\r\n        const {\r\n            ticketData: {\r\n                origin,\r\n                origin_name,\r\n                destination,\r\n                destination_name,\r\n                departure_date,\r\n                departure_time,\r\n                arrival_date,\r\n                arrival_time,\r\n                stops,\r\n                prices\r\n            },\r\n            currencyFilterVal\r\n        } = this.props\r\n\r\n        return (\r\n            <div className=\"ticket\">\r\n                <TicketCol modificator=\"ticket-col--left\">\r\n                    <TicketLogo imgSrc={ticketLogo}/>\r\n                    <TicketButton price={prices} currencyFilterVal={currencyFilterVal} />\r\n                </TicketCol>\r\n                <TicketCol modificator=\"ticket-col--right\">\r\n                    <TicketInfoBlock\r\n                        modificator=\"ticket-info-block--origin\"\r\n                        data={{\r\n                        time: departure_time,\r\n                        city: origin,\r\n                        city_name: origin_name,\r\n                        date: departure_date\r\n                    }}/>\r\n                    <TicketTransfer transfersCount={stops}/>\r\n                    <TicketInfoBlock\r\n                        modificator=\"ticket-block--destination\"\r\n                        data={{\r\n                        time: arrival_time,\r\n                        city: destination,\r\n                        city_name: destination_name,\r\n                        date: arrival_date\r\n                    }}/>\r\n                </TicketCol>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n","import React from 'react'\r\nimport './Tickets.scss'\r\nimport Ticket from '../Ticket/Ticket';\r\n\r\nconst Tickets = ({ticketsData,currencyFilterVal}) => {\r\n\r\n    const tickets = ticketsData.map( ticket =>  \r\n        <Ticket key={ticket.id} ticketData={ticket} currencyFilterVal={currencyFilterVal} />\r\n    )\r\n\r\n    return (\r\n        <div className=\"tickets\" >\r\n            {tickets}\r\n\t\t</div>\r\n    )\r\n\r\n}\r\n\r\nexport default Tickets","import React from 'react'\r\nimport './Loader.scss'\r\n\r\nconst Loader = ({className}) => {\r\n    return (\r\n        <div className={`preloader ${className}`}>\r\n\r\n            <div className=\"sk-folding-cube\">\r\n\r\n                <div className=\"sk-cube sk-cube-1\"></div>\r\n\r\n                <div className=\"sk-cube sk-cube-2\"></div>\r\n\r\n                <div className=\"sk-cube sk-cube-4\"></div>\r\n\r\n                <div className=\"sk-cube sk-cube-3\"></div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\nimport './Error.scss'\r\n\r\nconst Error = ({message}) => {\r\n    return (\r\n\t\t<div className=\"error\" >\r\n\t\t\t{message}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Error","import React from 'react'\r\nimport './App.scss'\r\nimport Header from '../Header/Header';\r\nimport Filters from '../Filters/Filters';\r\nimport Tickets from '../Tickets/Tickets';\r\nimport Loader from '../Loader/Loader'\r\nimport Error from '../Error/Error'\r\n\r\nconst API_STR = './ticketsData.json'\r\n\r\nexport default class App extends React.Component {\r\n\r\n    state = {\r\n        initialTicketsData: [],\r\n        filtersTicketData: [],\r\n        currencyFilter: 'rub',\r\n        isLoading: true,\r\n        error: null\r\n    }\r\n\r\n    onCurrencyFilter = (currencyFilter) => {\r\n        this.setState({currencyFilter})\r\n    }\r\n\r\n    filterInitialTicketData(initialTicketsData, filtersTicketData, propVal) {\r\n        return [\r\n            ...initialTicketsData.filter(item => item.stops === propVal),\r\n            ...filtersTicketData\r\n        ]\r\n    }\r\n\r\n    pushFiltersTicketData(initialTicketsData, filtersTicketData, filterName) {\r\n        switch (filterName) {\r\n            case 'transfer_without':\r\n                return this.filterInitialTicketData(initialTicketsData, filtersTicketData, 0)\r\n            case 'transfer_1':\r\n                return this.filterInitialTicketData(initialTicketsData, filtersTicketData, 1)\r\n            case 'transfer_2':\r\n                return this.filterInitialTicketData(initialTicketsData, filtersTicketData, 2)\r\n            case 'transfer_3':\r\n                return this.filterInitialTicketData(initialTicketsData, filtersTicketData, 3)\r\n            default:\r\n                return initialTicketsData\r\n        }\r\n    }\r\n\r\n    filterFiltersTicketData(filtersTicketData, propVal) {\r\n        return [...filtersTicketData.filter(item => item.stops !== propVal)]\r\n    }\r\n\r\n    removeFilteredTickets(filtersTicketData, filterName) {\r\n        switch (filterName) {\r\n            case 'transfer_without':\r\n                return this.filterFiltersTicketData(filtersTicketData, 0)\r\n            case 'transfer_1':\r\n                return this.filterFiltersTicketData(filtersTicketData, 1)\r\n            case 'transfer_2':\r\n                return this.filterFiltersTicketData(filtersTicketData, 2)\r\n            case 'transfer_3':\r\n                return this.filterFiltersTicketData(filtersTicketData, 3)\r\n            default:\r\n                return []\r\n        }\r\n    }\r\n\r\n    onTransferFilterChange = (event) => {\r\n        const {\r\n            target: {\r\n                name,\r\n                checked\r\n            }\r\n        } = event\r\n\r\n        this.setState(({initialTicketsData, filtersTicketData}) => {\r\n            if (checked) {\r\n                return {\r\n                    filtersTicketData: this.pushFiltersTicketData(initialTicketsData, filtersTicketData, name)\r\n                }\r\n            } else {\r\n                return {\r\n                    filtersTicketData: this.removeFilteredTickets(filtersTicketData, name)\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        setTimeout(() => {\r\n\r\n            fetch(API_STR).then(response => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                } else {\r\n                    throw new Error('Something went wrong ...');\r\n                }\r\n            }).then(({tickets}) => {\r\n                this.setState({initialTicketsData: tickets, filtersTicketData: tickets, isLoading: false})\r\n            }).catch(error => this.setState({error, isLoading: false}));\r\n\r\n        }, 1500);\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const {currencyFilter, filtersTicketData, isLoading, error} = this.state\r\n\r\n        const loader = isLoading\r\n            ? <Loader/>\r\n            : <Loader className=\"is-loaded\"/>\r\n\r\n        if (error) {\r\n            return <Error message={error.message}/>\r\n        }\r\n\r\n        return (\r\n            <div className=\"app\">\r\n                {loader}\r\n                {/* <Header/> */}\r\n                <div className=\"app__container\">\r\n                    <Filters\r\n                        currencyFilter={currencyFilter}\r\n                        onCurrencyFilter={this.onCurrencyFilter}\r\n                        onTransferFilterChange={this.onTransferFilterChange}/>\r\n                    <Tickets ticketsData={filtersTicketData} currencyFilterVal={currencyFilter}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport 'normalize.css/normalize.css'\r\nimport './index.scss'\r\nimport App from './components/App/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}